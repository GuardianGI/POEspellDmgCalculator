<!DOCTYPE html>
<html>
	<head>
		<title>POE skill/spell dmg plot/calc</title>
	
		<script type="text/javascript" src="tabs.js"></script>
		<script type="text/javascript" src="general.js"></script>
		<script type="text/javascript" src="skillTree.js"></script>
		<script type="text/javascript">
			var load = function (body) {
				var padding = 10, i, lbl, zoom = 0.3, node, groups = passiveSkillTreeData.groups,
					canvas = document.getElementById('canvas'),
					ctx = canvas.getContext('2d'),
					groupDomNodes = (function () {
						var res = {}, i, d;
						for (i in groups) {
							d = document.createElement('div');
							d.style.position = 'absolute';
							d.style.maxWidth = '140px';
							
							d.style.border = '1px solid #F00';
							d.style.left = (((-passiveSkillTreeData.min_x + groups[i].x) * zoom) | 0) + 'px';
							d.style.top = (((-passiveSkillTreeData.min_x + groups[i].y) * zoom) | 0) + 125 + 'px';
							body.appendChild(d);
							res[i] = d;
						}
						return res;
					})();
				passiveSkillTreeData.nodes[24].taken = true;
				canvas.width = zoom * (-passiveSkillTreeData.min_x + passiveSkillTreeData.max_x);
				canvas.height = zoom * (-passiveSkillTreeData.min_y + passiveSkillTreeData.max_y);
				
				ctx.lineWidth = 1;
				
				passiveSkillTreeData.nodes.forEach(valueNode);
				
				//importBuild('ww.pathofexile.com/passive-skill-tree/AAAAAgMAB2MRUDvhVyttGYIeu9bB89sL5oE=');
				//importBuild('AAAAAgMABUINjRzcHRQfAiL0LJwsvzbFQZZI51SuVcZWSlcrZp5nvWwLeM590n_GghCPRpUEm6Geoa6zr42vm8HFz2XQ0NMb2wLfsO5v-tI=');
				//every last passive in the game (atm)
				importBuild('http://www.pathofexile.com/passive-skill-tree/AAAAAgMBAAYAXgBqAIAA_QG8AcwB0QHcAecCEQJOAnEC0ALjAv4DAAOHA5YDxgQHBH4EsQSzBOQFLQU6BUIFWwV9BZMFtQXTBfkGDgY5BkkGdwagBqIG6QbuB2MHpQflB_8ICAguCGcIiQiwCLEI9AkhCTMJNQmWCfYK-gr_CygLYQuRDF8MfQyNDPIM9w0CDTANSQ2MDY0OFA48DkgOXA6ODq0POA9UD6sPxBBpEHQQexB_EJcQzBDwER4RLREvEVARlhG_EcIR1RHbEiASaRK8EuETJxNME2wTgxOeE8ATzBQgFE0UcRR1FI4UsBTdFPYVGhUgFVAVuBXXFecV8BX2Ff0WQBZvFrcWvxbzFvkXHBcdFy8XPhdQF1QX2BfcF-EX6hg8GE0YXRiQGJEYsBi9GNcY2xkuGYUZhhmKGY4Zohm0GdUZ1xnfGekZ_hoyGjgaPhpVGmwajxqeGtka2xsBG0UblxuqG60byBvgG_Yb-hx4HNwc5x0UHSYdqh2-Hcod2R3oHhoePR6BHpQe3x7wHwIfKR89H1sgnCDwIQIhAyFVIWAhdiHAIcMiGyImIoEijyLqIvQjGCNNI04jXyOjI_YkJSQ8JIskmySdJKUkqiSwJOEk_SUBJSclPyVaJa0lryW1Jbwl3yY8JpUm-CcLJyAnIScvJ08nYSepJ9Un7SgqKLUoxSjbKPopBykuKU8pVCmlKgsqEyo4Kk0qWyqNKpgq-ysKKw0rbyu2LEYshSycLKYspyy_LOEs6Sz7LR8tRy1VLYMtqC3SLfUuCC5FLnAu_y9vL50wGTBPMFQwcTB1MHcwfDCXMQExezGIMYkxnjGwMbMx-jH7MgEyCTIYMn4yiTKUMtEzDDNAM1YzdjN4M5Y0CjQgNDE0NTSONJM0vjTLNYA1kjXWNj02QjZWNns2ujbFNtg26DbpN0c3ZjeBN4M3ijfsOBs4ljitOQ45UjmKOZY51DowOkI6SzpSOlg6cTqzOtg64TrtOyg7azt8O-E74zwFPC08jjyWPL087z0PPT49Xz1lPeI9_D7PPyc_cz96P5s_4j_8QDZAVUCAQKBBP0F0QYdBjEGWQo5Co0LDQzFDVENjQ3lDnEPnRAREDURyRIFEnkSrRNJE50T7RQpFR0VaRX5FjkWWRZ1Fw0YrRmlGcUbXRwZHfke3SOdI7kkTSRtJO0lRSWdJskoeSi5KT0p9SoxKmkrESshLSUt4S41LxEwtTDJMNUxgTLFMs0z_TUFNkk25TdhN404qTjJObU6bTrpO509WT31Pv0_zUDBQQlBHUFBQVFElUShRR1FMUWBR5lH5UiZSU1KvUw9TMVM1U7hTu1PfVANUC1QUVElUkVSuVUtVqVWuVbVVxlXVVdZWBFYtVkpWY1bZVupW9Vb6Vw1XK1eHV5dXyVfYV-FX4lgHWBtYPVhjWK5Yr1jbWONY5Vj1WW1ZvFnzWf5aB1oaWitaSFpSWmtabVqRWz1bWVuvW7tb9FwMXIpcxlz0XPldCV1JXWhdxl3yXhNeXV6LXp9e-l8qXzlfP19qX5hfql-xX-FgQWBDYEtgbWBvYHNgu2EhYVJhcWGxYeJh62JaYnlik2KVYqxjC2MXY0NjcGOnY_1kCWQtZFJkWmSEZKNk52UvZU1lp2XwZfFmQ2ZPZp5moGbZZx5nWGdnZ4Bnm2egZ71n4mf8aA5odGnTagRqHmo7aj9qfmqTapVqrGsXayRrrGvZa9tsC2wWbEZsjW0SbRltN21KbWxte249bmlul26qbthvV2-Eb55vvG_Ib_JwUXBScFZwcnB9cLtw1XFNcVtxeXGwcmxyqXK7csNzDnM_c1Nzs3PhdEF0TXRVdK507XTxdU51inWhddB2CHYPdhF2K3Y5dmB2b3Z_doJ253b3d2J31HfXd-N35Xfpd_14DXhJeGl4rni6eM5463kDeUh5aHnAelN6qnrmeu97B3sge4x713xLfIN8uHy7fM582Xz1fRh9U31bfXV90n3jffV-Bn4zfll-mn6vfrB-4H7ifwJ_K39_f8Z_44BWgIqApICugOGBK4E6gUmBb4F7ghCCHoJTgluCm4LHguSDCYM4g3yDvYPbg_eEDIRRhGOEr4TEhNmE74UOhTKFVYVghW2FfYXFhgKGO4Zghq6GzobRhxOHGYcph0GHZYdqh3aHnofbiBuIOIhAiEKIWohriLqI7YjxidOJ4IoiiiiKOIp0iqGKr4rRiuSLT4t6i4yMC4w2jEaMSIxYjHaMz40ZjRyNfY1-jb-N8o48jmSOio6-jr-PRo-mj_qQCpANkBGQG5AzkFWQbJB0kNaRzpHPkjiSfZKAkrCSu5LBkweTHZMfkyWTJ5M6k9eT_JSHlKCUrZT7lQSVBZVmlZuVyJXpljKXAZcGl3CXhZeGl5WXtJfQl_SX-Zf-mAqYb5h0mK2ZK5lXmZqaE5oXmniazJrPmuCa8Zsmmy2bWJtdm2qbg5uNm6GbtZvsnCecK5wtnKSdDp1InWOdgJ2KnZado52qna6dxJ3ZnjyeV56hnrmexZ7NnwGfJ58-n3ufo5-0n8uf36BCoEOgnaCfoLSg_qEboSKhbaGkogCiBKIPoi6iQKKjouqjOqOKo-ej8qQZpE6keKSRpKyksaTCpcumPqZXpn-mjaasps-m4KbnpuunCKcrpzCnNKdcp4SnlKefp6Wn1KgHqBioGqh9qJqooqinqWipbqlzqZSplapSqn-quKrEqvirC6vFrBusP6xHrGasf6yYrKqsr6y6rOqtHq1KreSt8a4Mrj6uUK6LrrOuz69sr3Ovja-br6Kvp6-3r-uwc7B3sNGxMLGQsbOyGbI4skSycLJ1swOzDrMxsz-zt7QMtBq0L7Q4tHO0o7TFtNG0-bUEtUi1TbWFtfK2QbaGtqS297b6txe3Mbc-t3K3dbelt7a307fWt-K4R7iMuJO4yrk-uUO5fLnNu027fLvWu-O77bw3vHm8n7yivSe9Ob2Bvea-Or6Kvqe-u768vsG_l7_VwA_AGcAawC7AUcBUwKbA88EAwQTBB8EzwYvBo8G0wcXB1cHYwfPCAsKAwo7C7MMTwyXDOsNtw4bEFcRYxKLEuMT2xRvFKMWKxczGnsaixq7G2MbnxyrIDMgjyFfIW8jMyT3JZ8pKyo_KkMqpyqvK08tDy1rLgsuYy_XMBsw7zLfMvMzbzSbNmM3qzfrN_85IzmfOcc6oz2XPes_pz_jQCdA50EfQdtDQ0O7Q-9E10TbR_dIZ0iHSTdLq0wDTG9N-0_vT_NQF1BXUI9RS1HzUj9Sv1QDVHNUs1U_VddWB1YvV7dX41gfWItYr1orWndbR1wLXfteG18vYC9gk2E3YVNhp2HbZC9kT2V_ZYdmi2cbZ4No92mLaZNqN2pLa3dsC2wvbGttV21nbXttu29Tb59vx3BXcI9w93Ffcc9yC3L3dBd0N3UbdSN1f3YzdqN3j3efd89533pbeqd6w3sHext7l3vbe-N9v34TfmN-w37Lfv9_v4BLg2uFz4YjhtuHa4dviQ-Je4mHigOLL4uri9-NW42rjguOE45_j1-QI5BHkIuRR5K3kseTr5Ozk8eUZ5Y7lveXF5c_l0eZM5ljmfOaB5ojnCucL5w_nOudU52rndOeR55rnn-eu5-roZuh76H3orejW6PbpRelz6Xzp1en-6hjqGuo36mLquusJ6xTrLOtj647rn-vk6-7sGOwZ7DjsVeyK7I7ssOy27MvtIO1B7UTtdu2D7g7uFO4V7m_u2e8O707veu9874Xvhu-P76Dvzu_j7_DwH_BC8FXwW_Br8LLxW_F28YrxrPH08hfyHfIe8ifyL_JF8lryl_Kc8s7y4fMF8wbzcfO-89bz3fPq9Mb06fT49Ub1S_Xx9kj2VfZb9qP2rvba9zL3TfeI96P3pve-98H31_g3-JP4ofjr-TP5NPlW-WP5Zfm9-ej6LvqA-rH60vrv-vH7CftF-4H7i_uq-_X7_PxL_E78ZPyJ_Kv8xfz5_Qv9MP1g_ZP93P4J_gr-Sf6H_o_-uv6__sj_HP-T_7D_0__e');
				passiveSkillTreeData.nodes.forEach(function (node) {
					node.x = (-passiveSkillTreeData.min_x + groups[node.g].x);
					node.y = (-passiveSkillTreeData.min_y + groups[node.g].y);
				});
				
				for (i = 0; i < passiveSkillTreeData.nodes.length; i += 1) {
					node = passiveSkillTreeData.nodes[i];
					lbl = document.createElement('label');
					lbl.innerHTML = i;
					lbl.title = node.dn + '\n' + node.sd.join('\n');
					if (node.taken) {
						lbl.style.backgroundColor = '#0F0';
					}
					groupDomNodes[node.g].appendChild(lbl);
					
					node.in.forEach(function (n) {
						ctx.beginPath();
						
						ctx.moveTo(node.x * zoom, node.y * zoom);
						ctx.lineTo(n.x * zoom, n.y * zoom);
						
						ctx.stroke();
					});
				}
			}
			
		</script>
		
		<link rel="stylesheet" type="text/css" href="style.css" />
		<style>
			body, canvas {
				margin: 0;
				padding: 0;
			}
			label {
				margin-right: 0.5em;
				position: relative;
				display: inline-block;
			}
		</style>
	</head>
	<body onload="load( document.getElementsByTagName('body')[0]);">
		<canvas id="canvas"></canvas>
	</body>
</html>